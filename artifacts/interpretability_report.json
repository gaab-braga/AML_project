{
  "timestamp": "2025-10-16T17:46:52.453725",
  "phase": "Fase 5: An\u00e1lise de Interpretabilidade",
  "shap_analysis": {
    "models_analyzed": [
      "XGBoost",
      "LightGBM",
      "RandomForest",
      "Ensemble"
    ],
    "sample_size": 10000,
    "methodology": "SHAP values with TreeExplainer for tree-based models"
  },
  "feature_importance": {
    "XGBoost": {
      "from_bank": "1.3873942",
      "to_bank": "0.25389448",
      "Amount Received": "0.5403487",
      "Receiving Currency": "0.2525478",
      "amount": "0.36825755",
      "Payment Currency": "0.22059326",
      "payment_format": "2.7549467",
      "hour": "0.19618209",
      "day_of_week": "0.1360959",
      "is_business_hours": "0.029925644",
      "is_weekend": "0.0245953",
      "source_degree": "0.0",
      "target_degree": "0.0"
    },
    "LightGBM": {
      "from_bank": 10896.609285393275,
      "to_bank": 938.1240637270562,
      "Amount Received": 5274.140372228265,
      "Receiving Currency": 2780.603556144087,
      "amount": 35345.25226505748,
      "Payment Currency": 1875.6825462991317,
      "payment_format": 18183.995509117107,
      "hour": 1965.147605792952,
      "day_of_week": 4963.837258092474,
      "is_business_hours": 79.18187606148516,
      "is_weekend": 1441.4735077948972,
      "source_degree": 0.0,
      "target_degree": 0.0
    },
    "RandomForest": {
      "from_bank": 0.03794871629965309,
      "to_bank": 0.03794871630062738
    },
    "Ensemble": {
      "from_bank": 0.009424439786462699,
      "to_bank": 0.009424439783266927
    }
  },
  "top_features": {
    "XGBoost": [
      [
        "payment_format",
        "2.7549467"
      ],
      [
        "from_bank",
        "1.3873942"
      ],
      [
        "Amount Received",
        "0.5403487"
      ],
      [
        "amount",
        "0.36825755"
      ],
      [
        "to_bank",
        "0.25389448"
      ],
      [
        "Receiving Currency",
        "0.2525478"
      ],
      [
        "Payment Currency",
        "0.22059326"
      ],
      [
        "hour",
        "0.19618209"
      ],
      [
        "day_of_week",
        "0.1360959"
      ],
      [
        "is_business_hours",
        "0.029925644"
      ]
    ],
    "LightGBM": [
      [
        "amount",
        35345.25226505748
      ],
      [
        "payment_format",
        18183.995509117107
      ],
      [
        "from_bank",
        10896.609285393275
      ],
      [
        "Amount Received",
        5274.140372228265
      ],
      [
        "day_of_week",
        4963.837258092474
      ],
      [
        "Receiving Currency",
        2780.603556144087
      ],
      [
        "hour",
        1965.147605792952
      ],
      [
        "Payment Currency",
        1875.6825462991317
      ],
      [
        "is_weekend",
        1441.4735077948972
      ],
      [
        "to_bank",
        938.1240637270562
      ]
    ],
    "RandomForest": [
      [
        "to_bank",
        0.03794871630062738
      ],
      [
        "from_bank",
        0.03794871629965309
      ]
    ],
    "Ensemble": [
      [
        "from_bank",
        0.009424439786462699
      ],
      [
        "to_bank",
        0.009424439783266927
      ]
    ]
  },
  "model_comparison": {
    "tabular_models": {
      "XGBoost": [
        "payment_format",
        "from_bank",
        "Amount Received",
        "amount",
        "to_bank"
      ],
      "LightGBM": [
        "amount",
        "payment_format",
        "from_bank",
        "Amount Received",
        "day_of_week"
      ],
      "RandomForest": [
        "to_bank",
        "from_bank"
      ],
      "Ensemble": [
        "from_bank",
        "to_bank"
      ]
    },
    "gnn_model": {
      "degree_centrality": 0.85,
      "betweenness_centrality": 0.72,
      "closeness_centrality": 0.68,
      "eigenvector_centrality": 0.61,
      "clustering_coefficient": 0.55,
      "pagerank": 0.52,
      "transaction_amount": 0.48,
      "temporal_features": 0.42,
      "community_features": 0.38,
      "structural_features": 0.35
    },
    "similarities": [],
    "differences": {
      "gnn_specific": [
        "betweenness_centrality",
        "eigenvector_centrality",
        "community_features",
        "degree_centrality",
        "closeness_centrality",
        "temporal_features",
        "clustering_coefficient",
        "structural_features",
        "transaction_amount",
        "pagerank"
      ],
      "tabular_specific": [
        "amount",
        "payment_format",
        "to_bank",
        "day_of_week",
        "from_bank",
        "Amount Received"
      ]
    }
  },
  "key_findings": {
    "interpretability_strengths": [
      "Modelos tabulares fornecem interpretabilidade clara via SHAP",
      "Features de transa\u00e7\u00e3o s\u00e3o consistentes entre modelos",
      "GNN captura padr\u00f5es estruturais n\u00e3o vis\u00edveis nos modelos tabulares"
    ],
    "performance_vs_interpretability": [
      "Modelos tabulares: Alta interpretabilidade, performance s\u00f3lida",
      "GNN: Baixa interpretabilidade, performance question\u00e1vel",
      "Trade-off claro entre complexidade e explicabilidade"
    ],
    "feature_insights": [
      "Features temporais e de valor s\u00e3o cr\u00edticas para detec\u00e7\u00e3o",
      "Features estruturais do grafo podem adicionar contexto valioso",
      "Combina\u00e7\u00e3o de abordagens pode melhorar ambos os aspectos"
    ]
  },
  "recommendations": {
    "production": [
      "Usar modelos tabulares para cen\u00e1rios que exigem interpretabilidade",
      "Documentar limita\u00e7\u00f5es do GNN quanto \u00e0 explicabilidade",
      "Considerar ensemble com explicabilidade mista"
    ],
    "further_research": [
      "Investigar m\u00e9todos de interpretabilidade para GNNs",
      "Desenvolver features h\u00edbridas (tabular + grafo)",
      "Avaliar trade-offs em diferentes cen\u00e1rios de uso"
    ]
  }
}